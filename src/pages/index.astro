---
import BaseLayout from "../layouts/BaseLayout.astro";
const title = "Prix de la vie â€“ Accueil";
---
<BaseLayout title={title}>
  <div class="banner" style="margin:18px 0;border:1px solid var(--line);border-radius:18px;overflow:hidden;box-shadow:var(--shadow);">
    <img src="/banners/france.jpg" alt="BanniÃ¨re" style="width:100%;height:220px;object-fit:cover;" />
  </div>

  <div style="position:relative;margin-top:-22px;padding:10px 0;">
    <div aria-hidden="true" style="
      position:absolute;inset:0;height:64px;margin:auto;left:8px;right:8px;
      background:linear-gradient(90deg,#ffc2d5,#ff8db2,#ffc2d5);
      border-radius:999px;filter:blur(10px) saturate(1.1);opacity:.7;z-index:0;"></div>

    <div style="position:relative;z-index:1;display:flex;gap:8px;align-items:center;background:#fff;border:1px solid var(--line);border-radius:999px;padding:10px 12px;box-shadow:var(--shadow);">
      <input id="q" placeholder="Rechercher (ex: Japon, Tokyo)" style="flex:1;background:transparent;border:none;outline:none;color:var(--text);" />
      <a class="btn" id="go" href="#">Rechercher</a>
    </div>
  </div>

  <div class="card" style="background:var(--accent-100);margin-top:20px;">
    <h2 style="margin:0 0 10px 0;">Bienvenue sur Prix de la vie</h2>
    <p style="color:var(--muted);font-size:1.02rem;line-height:1.65;margin:0;">
      DÃ©couvrez les prix de la vie dans des pays et des villes, toujours comparÃ©s Ã  la France.
    </p>
  </div>

  <div class="grid" style="margin-top:20px;">
    <a class="card" href="/country/france"><strong>ğŸ‡«ğŸ‡· France</strong><br/><span style="color:#6b7280">Base de comparaison</span></a>
    <a class="card" href="/country/japon"><strong>ğŸ‡¯ğŸ‡µ Japon</strong><br/><span style="color:#6b7280">Pays</span></a>
    <a class="card" href="/country/tokyo"><strong>ğŸ™ï¸ Tokyo</strong><br/><span style="color:#6b7280">Ville</span></a>
  </div>

  <!-- Script local dâ€™accueil : utilise la mÃªme logique que le header -->
  <script is:inline>
    const q  = document.getElementById('q');
    const go = document.getElementById('go');
    function trigger(){ const ev=new Event('submit',{bubbles:true,cancelable:true}); document.querySelector('form[role="search"]')?.dispatchEvent(ev);}
    go.addEventListener('click', e=>{e.preventDefault(); trigger();});
    q.addEventListener('keydown', e=>{ if(e.key==='Enter'){ e.preventDefault(); trigger(); }});
  </script>
</BaseLayout>
