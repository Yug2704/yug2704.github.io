---
import AreaPage from "../../components/AreaPage.astro";

// ðŸ”§ Liste tous les pays Ã  prÃ©-gÃ©nÃ©rer depuis /data/countries/*.json
export async function getStaticPaths() {
  const modules = import.meta.glob("../../data/countries/*.json");
  return Object.keys(modules).map((p) => {
    const slug = p.split("/").pop().replace(".json", "");
    return { params: { slug } };
  });
}

// Charge le JSON du pays correspondant au slug
const { slug } = Astro.params;
const data = (await import(`../../data/countries/${slug}.json`)).default;
---
<AreaPage data={data} />
