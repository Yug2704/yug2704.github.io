---
import AreaPage from "../../components/AreaPage.astro";

// ðŸ”§ Liste toutes les villes Ã  prÃ©-gÃ©nÃ©rer depuis /data/cities/*.json
export async function getStaticPaths() {
  const modules = import.meta.glob("../../data/cities/*.json");
  return Object.keys(modules).map((p) => {
    const slug = p.split("/").pop().replace(".json", "");
    return { params: { slug } };
  });
}

// Charge le JSON de la ville correspondant au slug
const { slug } = Astro.params;
const data = (await import(`../../data/cities/${slug}.json`)).default;
---
<AreaPage data={data} />
